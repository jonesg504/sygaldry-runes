MavenRune:
  params:
  - mavenHome
  - stages
  - version
  - opts
  values:
    Image: docker.io/sygaldry/maven-rune:{{ .version }}
    Env:
    - \"stages='{{ .stages }}'\"
    - \"opts={{ or .opts "" }}\"
    Volumes:
    - "{{ or .mavenHome \"~/.m2\" }}:/root/.m2"
DockerRune:
  params:
  - version
  - command
  - args
  - image
  - dockerSocketPath
  - dockerConfigPath
  values:
    Image: "{{ or .image \"docker.io/sygaldry/docker-rune\" }}:{{ or .version \"latest\" }}"
    Env:
    - "command='{{ .command }}'"
    - "args='{{ .args }}'"
    Volumes:
    - "{{ or .dockerSocketPath \"/var/run/docker.sock\"}}:/var/run/docker.sock"
    - "{{ or .dockerConfigPath \"~/.docker/config.json\" }}:/root/.docker/config.json"
TerraformRune:
  params:
  - terraformFolder
  - tfvars
  - image
  values:
    Image: "{{ or .image \"docker.io/sygaldry/terraform-rune\" }}:{{ or .version \"latest\" }}"
    Env:
    - terraformFolder={{ or .terraformFolder "." }}
    - tfvars={{ or "--var-file {{ StringsJoin .tfvars \" --var-file \" }}" "" }
    Volumes:
KubectlRune:
  params:
  - version
  - command
  - args
  - image
  - kubeConfigPath
  values:
    Image: "{{ or .image \"sygaldry/kubectl-rune\"}}:{{or .version \"latest\" }}"
    Env:
    - "command='{{ .command }}'"
    - "args='{{ .args }}'"
    Volumes:
    - "{{ or .kubeConfigPath \"~/.kube/config\"}}:/root/.kube/config"
